!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("d3")):"function"==typeof define&&define.amd?define(["react","d3"],e):"object"==typeof exports?exports.BarChart=e(require("react"),require("d3")):t.BarChart=e(t.React,t.d3)}(this,function(t,e){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=function(t,e,r){for(var n=!0;n;){var a=t,o=e,i=r;n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;t=l,e=o,r=i,n=!0,u=l=void 0}},s=r(1),l=n(s),c=r(2),f=r(6),p=n(f);r(7);var h=function(t,e){return Object.assign({},t,e)},d=function(t){function e(){a(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),i(e,[{key:"_handleBarClick",value:function(t,e){this.props.onBarClick&&this.props.onBarClick(t,e)}},{key:"_renderGraph",value:function(t){var e=t.margin,r=t.width,n=t.height,a=p["default"].select(this.svg).attr("width",r+e.left+e.right).attr("height",n+e.top+e.bottom);a=a.select(".graph").attr("transform","translate("+e.left+", "+e.top+")"),this._reusableGraph(t)}},{key:"_reusableGraph",value:function(t){var e=this,r=t.margin,n=t.width,a=t.height,o=p["default"].select(this.svg).attr("width",n+r.left+r.right).attr("height",a+r.top+r.bottom);o=o.select(".graph").attr("transform","translate("+r.left+", "+r.top+")"),o.selectAll("rect").remove(),o.select(".x.axis").remove(),o.select(".y.axis").remove(),o.append("g").attr("class","x axis").attr("transform","translate(0, "+a+")").call(this.xAxis),o.append("g").attr("class","y axis").call(this.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(t.ylabel),o.selectAll(".bar").data(t.data).enter().append("rect").on("click",this._handleBarClick.bind(this)).attr("class","bar").attr("x",function(t){return e.x(t.text)}).attr("width",this.x.rangeBand()).attr("y",function(t){return e.y(t.value)}).attr("height",function(t){return a-e.y(t.value)})}},{key:"_defineAxis",value:function(t){t.width=t.width-t.margin.left-t.margin.right,t.height=t.height-t.margin.top-t.margin.bottom,this.x=p["default"].scale.ordinal().rangeRoundBands([0,t.width],.1),this.y=p["default"].scale.linear().range([t.height,0]),this.x.domain(t.data.map(function(t){return t.text})),this.y.domain([0,p["default"].max(t.data,function(t){return t.value})]),this.xAxis=p["default"].svg.axis().scale(this.x).orient("bottom"),this.yAxis=p["default"].svg.axis().scale(this.y).orient("left")}},{key:"componentDidMount",value:function(){var t=h(this.props);this._defineAxis(t),this._renderGraph(t)}},{key:"shouldComponentUpdate",value:function(t){var e=h(t);return this._defineAxis(e),this._reusableGraph(e),!1}},{key:"render",value:function(){var t=this;return l["default"].createElement("svg",{ref:function(e){return t.svg=e}},l["default"].createElement("g",{className:"graph"}))}}],[{key:"propTypes",value:{data:c.array.isRequired,width:c.number.isRequired,height:c.number.isRequired,margin:c.object,ylabel:c.string},enumerable:!0},{key:"defaultProps",value:{margin:{top:0,right:0,bottom:0,left:0}},enumerable:!0}]),e}(l["default"].Component);e["default"]=d,t.exports=e["default"]},function(e,r){e.exports=t},function(t,e,r){"use strict";t.exports=r(3)()},function(t,e,r){"use strict";var n=r(4),a=r(5);t.exports=function(){function t(){a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return r.checkPropTypes=n,r.PropTypes=r,r}},function(t,e){"use strict";function r(t){return function(){return t}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,o,i,u,s){if(a(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,u,s],f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var a=function(t){};t.exports=n},function(t,r){t.exports=e},function(t,e){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var r,n=Object(t),a=!1,o=1;o<arguments.length;o++){var i=arguments[o];if(void 0!==i&&null!==i){for(var u=Object.keys(Object(i)),s=0,l=u.length;l>s;s++){var c=u[s];try{var f=Object.getOwnPropertyDescriptor(i,c);void 0!==f&&f.enumerable&&(n[c]=i[c])}catch(p){a||(a=!0,r=p)}}if(a)throw r}}return n}})}])});
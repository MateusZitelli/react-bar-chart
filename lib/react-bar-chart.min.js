!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("d3")):"function"==typeof define&&define.amd?define(["react","d3"],e):"object"==typeof exports?exports.BarChart=e(require("react"),require("d3")):t.BarChart=e(t.React,t.d3)}(this,function(t,e){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(1),s=r(2);r(3);var l=function(t,e){return Object.assign({},t,e)},u=function(t){function e(){n(this,e),null!=t&&t.apply(this,arguments)}return a(e,t),i(e,[{key:"_handleBarClick",value:function(t,e){this.props.onBarClick&&this.props.onBarClick(t,e)}},{key:"_renderGraph",value:function(t){var e=t.margin,r=t.width,n=t.height,a=o.findDOMNode(this),i=s.select(a).attr("width",r+e.left+e.right).attr("height",n+e.top+e.bottom);i=i.select(".graph").attr("transform","translate("+e.left+", "+e.top+")"),this._reusableGraph(t)}},{key:"_reusableGraph",value:function(t){var e=this,r=t.margin,n=t.width,a=t.height,i=o.findDOMNode(this),l=s.select(i).attr("width",n+r.left+r.right).attr("height",a+r.top+r.bottom);l=l.select(".graph").attr("transform","translate("+r.left+", "+r.top+")"),l.selectAll("rect").remove(),l.select(".x.axis").remove(),l.select(".y.axis").remove(),l.append("g").attr("class","x axis").attr("transform","translate(0, "+a+")").call(this.xAxis),l.append("g").attr("class","y axis").call(this.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(t.ylabel),s.select(".graph").selectAll(".bar").data(t.data).enter().append("rect").on("click",this._handleBarClick.bind(this)).attr("class","bar").attr("x",function(t){return e.x(t.text)}).attr("width",this.x.rangeBand()).attr("y",function(t){return e.y(t.value)}).attr("height",function(t){return a-e.y(t.value)})}},{key:"_defineAxis",value:function(t){t.width=t.width-t.margin.left-t.margin.right,t.height=t.height-t.margin.top-t.margin.bottom,this.x=s.scale.ordinal().rangeRoundBands([0,t.width],.1),this.y=s.scale.linear().range([t.height,0]),this.x.domain(t.data.map(function(t){return t.text})),this.y.domain([0,s.max(t.data,function(t){return t.value})]),this.xAxis=s.svg.axis().scale(this.x).orient("bottom"),this.yAxis=s.svg.axis().scale(this.y).orient("left")}},{key:"componentDidMount",value:function(){var t=l(this.props);this._defineAxis(t),this._renderGraph(t)}},{key:"shouldComponentUpdate",value:function(t){var e=l(t);return this._defineAxis(e),this._reusableGraph(e),!1}},{key:"render",value:function(){return o.createElement("svg",null,o.createElement("g",{className:"graph"}))}}],[{key:"propTypes",value:{data:o.PropTypes.array.isRequired,width:o.PropTypes.number.isRequired,height:o.PropTypes.number.isRequired,margin:o.PropTypes.object,ylabel:o.PropTypes.string},enumerable:!0},{key:"defaultProps",value:{margin:{top:0,right:0,bottom:0,left:0}},enumerable:!0}]),e}(o.Component);t.exports=u},function(e,r,n){e.exports=t},function(t,r,n){t.exports=e},function(t,e,r){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var r,n=Object(t),a=!1,i=1;i<arguments.length;i++){var o=arguments[i];if(void 0!==o&&null!==o){for(var s=Object.keys(Object(o)),l=0,u=s.length;u>l;l++){var c=s[l];try{var p=Object.getOwnPropertyDescriptor(o,c);void 0!==p&&p.enumerable&&(n[c]=o[c])}catch(h){a||(a=!0,r=h)}}if(a)throw r}}return n}})}])});